<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Banka | Activate or deactivate user account</title>
  <link rel="stylesheet" href="../css/style.css">
  <link rel="shortcut icon" href="../assets/banka.png" type="image/x-icon">
</head>

<body>
  <div class="navbar">
    <div class="navbar-header">
      <div class="navbar-title">
        <div class="logo"><img src="../assets/logo.png"></div>
      </div>
    </div>
    <div class="navbar-btn">
      <label for="navbar-check">
        <span></span>
        <span></span>
        <span></span>
      </label>
    </div>
    <input type="checkbox" id="navbar-check">
    <div class="navbar-links">
      <a href="../index.html">Logout</a>
      <a href="../html/cashier.html">Cashier page</a>
      <a href="../html/admin.html">User Account</a>
      <a href="../html/admin-bank-account.html">Bank Account</a>
      <a id="createAccount">Create Account</a>
    </div>
  </div>

  <div class="container">
    <h1> All User Account <button id="getapi" class="btn-submit">Get All User accounts</button></h1>
    <div id="userAccount"></div>

    <!-- <tr>
        <td>1</td>
        <td>celestin@gmail.com</td>
        <td>Celestin</td>
        <td>TUYISHIMIRE</td>
        <td>password</td>
        <td>admin</td>
        <td> <span>Active</span></td>
        <td><button class="deactivate" id="deactivate-user-account">Deactivate</button>
          <button class="activate" id="activate-user-account">Activate</button></td>
      </tr>
      <tr>
        <td>2</td>
        <td>kamanaalp@gmail.com</td>
        <td>Alphonse </td>
        <td>kamanzi</td>
        <td>password</td>
        <td>cashier</td>
        <td><span>Desactive</span></td>
        <td><button id="goto-deactivate" class="deactivateLink">Deactivate</button>
          <button id="goto-activate" class="activateLink">Activate</button>
        </td>
      </tr> -->
    <!-- <div id="tableAccount"></div> -->
    <!-- <div id="userAccount"></div> -->
    <script>
      document.getElementById('getapi').addEventListener('click', getUserAccount);
      function getUserAccount() {
        fetch('http://localhost:4000/api/v1/auth/users')
          .then((res) => res.json())
          .then((data1) => {
            let userAccount = `<h2>Users</h2>
              <table id="table">
                <tr>
                  <th width="10">ID</th>
                  <th width="10">First name</th>
                  <th width="10">Last name</th>
                  <th width=10>Email</th>
                  <th width=10>Phone</th>
                  <th width=10>Username</th>
                  <th width=10>Location</th>
                  <th width=10>Type of user</th>
                  <th width="10">Create On</th>
                </tr>`;
            // data1.forEach(function (user){
            for (var i = 0; i < data1.length; i++) {
              userAccount += `
                <table id="table">
                <tr>
                  <td width="10">${data1[i].id}</td>
                  <td width="10">${data1[i].firstName}<td>
                  <td width="10">${data1[i].lastName}</td>
                  <td width=10>${data1[i].email}<td> 
                  <td width="10">${data1[i].phone}</td> 
                  <td width="10">${data1[i].userName}</td> 
                  <td width="10">${data1[i].location}</td> 
                  <td width="10">${data1[i].location}</td> 
                  <td width="10">${data1[i].type}</td> 
                  <td width="10">${data1[i].createdDate}</td> 
                </tr>
                </table>`;
            };
            document.getElementById('userAccount').innerHTML = userAccount;
          });
      }
    </script>

    <!-- </table> -->
  </div>
  <div id="modal" class="modal">
    <div class="modal-content">
      <div class="img-close">
        <span class="close" title="Close Modal">&times;</span>
      </div>
      <div class="container">
        <form class="animate" id="activateModal">
          <h2>Are you sure want to Activate this User Account?</h2>
          <button class="btn-confirm">Confirm</button>
          <button class="cancelbtn">Close</button>
        </form>

        <form class="animate" id="deactivateModal">
          <h2>Are you sure want to deactivate this User Account?</h2>
          <button class="btn-confirm">Confirm</button>
          <button class="cancelbtn">Close</button>
        </form>
        <form class="animate" id="createAccountForm">
          <h3> Create User Account</h3>
          <label>Email</label>
          <input type="email" id="email" placeholder="Enter Email" required>

          <label>First Name</label>
          <input type="text" placeholder="Enter First Name" id="firstname" required>

          <label>Last Name</label>
          <input type="text" placeholder="Enter Last Name" id="lastname" required>

          <label>Phone</label>
          <input type="number" placeholder="Enter Phone number" id="phonenumber" required>

          <label>Username</label>
          <input type="text" placeholder="Enter Username" id="username" required>

          <label>Password</label>
          <input type="password" id="password" placeholder="Enter Password" required>

          <label>User Account type</label>
          <select name="account-type" id="account-type">
            <option value="">Select account type</option>
            <option value="true">Admin</option>
            <option value="false">Staff</option>
          </select>

          <label>Location</label>
          <input type="text" placeholder="Enter Location" id="location" required>

          <button type="submit" id="btnSignUp">Create User</button>
        </form>
      </div>
    </div>
  </div>
  <div class="footer">
    <ul>
      <p>Banka Copyright&copy;2019 by Celestin NIYONSABA </p>
    </ul>
  </div>
  <script src="../js/app.js"></script>
  <script src="../js/models/User.js"></script>
  <script src="../js/controllers/adminController.js"></script>
</body>

</html>